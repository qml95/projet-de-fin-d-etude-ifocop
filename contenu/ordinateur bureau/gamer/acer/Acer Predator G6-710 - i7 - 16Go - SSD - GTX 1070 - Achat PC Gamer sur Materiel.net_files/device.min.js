
(function(){var e,t,n,r,i,s,o,u,a,f;e=window.device,window.device={},n=window.document.documentElement,f=window.navigator.userAgent.toLowerCase(),device.ios=function(){return device.iphone()||device.ipod()||device.ipad()},device.iphone=function(){return r("iphone")},device.ipod=function(){return r("ipod")},device.ipad=function(){return r("ipad")},device.android=function(){return r("android")},device.androidPhone=function(){return device.android()&&r("mobile")},device.androidTablet=function(){return device.android()&&!r("mobile")},device.blackberry=function(){return r("blackberry")||r("bb10")||r("rim")},device.blackberryPhone=function(){return device.blackberry()&&!r("tablet")},device.blackberryTablet=function(){return device.blackberry()&&r("tablet")},device.windows=function(){return r("windows")},device.windowsPhone=function(){return device.windows()&&r("phone")},device.windowsTablet=function(){return device.windows()&&r("touch")},device.fxos=function(){return(r("(mobile;")||r("(tablet;"))&&r("; rv:")},device.fxosPhone=function(){return device.fxos()&&r("mobile")},device.fxosTablet=function(){return device.fxos()&&r("tablet")},device.meego=function(){return r("meego")},device.mobile=function(){return device.androidPhone()||device.iphone()||device.ipod()||device.windowsPhone()||device.blackberryPhone()||device.fxosPhone()||device.meego()},device.tablet=function(){return device.ipad()||device.androidTablet()||device.blackberryTablet()||device.windowsTablet()||device.fxosTablet()},device.portrait=function(){return 90!==Math.abs(window.orientation)},device.landscape=function(){return 90===Math.abs(window.orientation)},device.noConflict=function(){return window.device=e,this},r=function(e){return-1!==f.indexOf(e)},s=function(e){var t;return t=new RegExp(e,"i"),n.className.match(t)},t=function(e){return s(e)?void 0:n.className+=" "+e},u=function(e){return s(e)?n.className=n.className.replace(e,""):void 0},device.ios()?device.ipad()?t("ios ipad tablet"):device.iphone()?t("ios iphone mobile"):device.ipod()&&t("ios ipod mobile"):device.android()?device.androidTablet()?t("android tablet"):t("android mobile"):device.blackberry()?device.blackberryTablet()?t("blackberry tablet"):t("blackberry mobile"):device.windows()?device.windowsTablet()?t("windows tablet"):device.windowsPhone()?t("windows mobile"):t("desktop"):device.fxos()?device.fxosTablet()?t("fxos tablet"):t("fxos mobile"):device.meego()?t("meego mobile"):t("desktop"),i=function(){return device.landscape()?(u("portrait"),t("landscape")):(u("landscape"),t("portrait"))},a="onorientationchange"in window,o=a?"orientationchange":"resize",window.addEventListener?window.addEventListener(o,i,!1):window.attachEvent?window.attachEvent(o,i):window[o]=i,i()}).call(this);var Device={mobileUrl:null,domain:null,init:function(){var e=getUrlVars();if(e.hasOwnProperty("mobile")){this.preventRedirect();return}if(typeof device=="undefined"||device.mobile()===false){return}if(getCookie("deviceRedirect")=="mobile"){this.goToMobile()}if(this.isRedirectMemorized()){return}$(function(){$("#deviceDetectionPopup .toMobile").click(function(e){e.preventDefault();Device.goToMobile()});$("#deviceDetectionPopup .toFront").click(function(e){e.preventDefault();Device.goToFront()});Device.popup()})},setMobileUrl:function(e){this.mobileUrl=e},setDomain:function(e){this.domain=e},popup:function(){$("#deviceDetectionPopup, #deviceDetectionOverlay").show()},goToMobile:function(){if(this.mobileUrl===null){return}this.memorizeRedirectChoice("mobile");window.location.href=this.mobileUrl},goToFront:function(){this.memorizeRedirectChoice("front");this.closePopup()},closePopup:function(){$("#deviceDetectionPopup, #deviceDetectionOverlay").hide()},isRedirectMemorized:function(){return typeof getCookie("deviceRedirect")!="undefined"},preventRedirect:function(){this.memorizeRedirectChoice("front")},memorizeRedirectChoice:function(e){if(this.domain===null){return}if(typeof e=="undefined"){e="mobile"}var t=this.getDateNextDay4h();document.cookie="deviceRedirect="+e+"; expires="+t.toGMTString()+"; path=/; domain="+this.domain},getDateNextDay4h:function(){var e=new Date;e.setUTCHours(0,0,0,0);e.setTime(e.getTime()+28*60*60*1e3);return e}}